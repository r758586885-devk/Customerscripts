var blockModule = new Module("BlockInfo", true, false, ModuleCategory.MISC);

var blockNames = {
    0: "§7Воздух",
    1: "§7Камень",
    2: "§aТрава",
    3: "§6Земля",
    4: "§7Булыжник",
    5: "§6Доски дуба",
    6: "§aСаженец дуба",
    7: "§8Бедрок",
    8: "§3Вода",
    9: "§3Вода (неподвижная)",
    10: "§cЛава",
    11: "§cЛава (неподвижная)",
    12: "§eПесок",
    13: "§8Гравий",
    14: "§eЗолотая руда",
    15: "§fЖелезная руда",
    16: "§8Угольная руда",
    17: "§6Дубовое дерево",
    18: "§aЛиства дуба",
    19: "§aГубка",
    20: "§fСтекло",
    21: "§1Лазуритовая руда",
    22: "§1Лазуритовый блок",
    23: "§8Раздатчик",
    24: "§eПесчаник",
    25: "§6Нотный блок",
    26: "§cКровать",
    27: "§8Рельсы с питанием",
    28: "§8Детекторные рельсы",
    29: "§8Липкий поршень",
    30: "§cПаутина",
    31: "§aВысокая трава",
    32: "§aМёртвый куст",
    33: "§8Поршень",
    34: "§8Выдвижной поршень",
    35: "§fШерсть",
    36: "§8Перемещённый блок",
    37: "§eОдуванчик",
    38: "§cМак",
    39: "§dКоричневый гриб",
    40: "§fКрасный гриб",
    41: "§eЗолотой блок",
    42: "§fЖелезный блок",
    43: "§6Двойные каменные плиты",
    44: "§7Каменные плиты",
    45: "§cКирпич",
    46: "§6ТНТ",
    47: "§6Книжная полка",
    48: "§aМох",
    49: "§5Обсидиан",
    50: "§eФакел",
    51: "§cОгонь",
    52: "§8Спаунер мобов",
    53: "§6Дубовые ступеньки",
    54: "§6Сундук",
    55: "§cРедстоуновая пыль",
    56: "§bАлмазная руда",
    57: "§bАлмазный блок",
    58: "§6Верстак",
    59: "§aПшеница",
    60: "§6Земля (вспаханная)",
    61: "§8Печка",
    62: "§8Печка (горит)",
    63: "§fТабличка",
    64: "§6Дубовая дверь",
    65: "§8Лестница",
    66: "§8Рельсы",
    67: "§6Каменные ступеньки",
    68: "§fНастенная табличка",
    69: "§8Рычаг",
    70: "§7Нажимная плита",
    71: "§6Железная дверь",
    72: "§7Деревянная нажимная плита",
    73: "§cРедстоуновая руда",
    74: "§cРедстоуновая руда (горит)",
    75: "§8Редстоуновый факел (выкл)",
    76: "§cРедстоуновый факел (вкл)",
    77: "§8Каменная кнопка",
    78: "§fСнежный слой",
    79: "§fЛёд",
    80: "§fСнежный блок",
    81: "§aКактус",
    82: "§fГлина",
    83: "§aСахарный тростник",
    84: "§8Джейкбокс",
    85: "§6Забор",
    86: "§cТыква",
    87: "§4Незеррак",
    88: "§4Незерраковый песок",
    89: "§eСветокамень",
    90: "§5Портал в ад",
    91: "§cСветящаяся тыква",
    92: "§fТорт",
    93: "§8Редстоун-повторитель (выкл)",
    94: "§cРедстоун-повторитель (вкл)",
    95: "§9Запертый сундук",
    96: "§6Ловушка",
    97: "§7Скрытая серебряная руда",
    98: "§7Каменный кирпич",
    99: "§aКоричневый гриб-блок",
    100: "§cКрасный гриб-блок",
    101: "§9Железная решётка",
    102: "§9Стеклянная панель",
    103: "§aАрбуз",
    104: "§aТыквенный стебель",
    105: "§aАрбузный стебель",
    106: "§aЛиана",
    107: "§6Заборные ворота",
    108: "§6Кирпичные ступеньки",
    109: "§7Ступеньки из каменного кирпича",
    110: "§aМицелий",
    111: "§aКувшинка",
    112: "§4Незер-кирпич",
    113: "§9Незер-забор",
    114: "§4Незер-ступеньки",
    115: "§dЭндер-жемчужный блок",
    116: "§6Стол зачарований",
    117: "§5Завариватель",
    118: "§5Завариватель (полный)",
    119: "§dЭндер портал",
    120: "§5Эндер портал рамка",
    121: "§5Эндерняк",
    122: "§9Драконье яйцо",
    123: "§eРедстоуновая лампа",
    124: "§eРедстоуновая лампа (вкл)",
    125: "§6Двойные доски",
    126: "§6Дубовые доски",
    127: "§6Какао-бобы",
    128: "§6Песчаниковые ступеньки",
    129: "§eИзумрудная руда",
    130: "§9Эндер-сундук",
    131: "§8Крюк-ловушка",
    132: "§8Крюк-ловушка (заряжен)",
    133: "§aИзумрудный блок",
    134: "§6Еловые ступеньки",
    135: "§6Берёзовые ступеньки",
    136: "§6Ступеньки из тёмного дуба",
    137: "§8Командный блок",
    138: "§9Маяк",
    139: "§9Каменная стена",
    140: "§6Цветочный горшок",
    141: "§aМорковь",
    142: "§6Картофель",
    143: "§8Кнопка",
    144: "§fГолова скина",
    145: "§6Наковальня",
    146: "§9Запертый сундук (траппер)",
    147: "§8Нажимная плита (золото)",
    148: "§8Нажимная плита (железо)",
    149: "§8Редстоун-компаратор (выкл)",
    150: "§cРедстоун-компаратор (вкл)",
    151: "§fСветовой датчик",
    152: "§cРедстоуновая руда",
    153: "§cКварцевая руда",
    154: "§8Воронка",
    155: "§fКварцевый блок",
    156: "§fКварцевые ступеньки",
    157: "§9Активаторные рельсы",
    158: "§8Раздатчик",
    159: "§6Терракота",
    160: "§fСтеклянная панель (цветная)",
    161: "§aЛиства (ель)",
    162: "§6Дерево (ель)",
    163: "§6Еловые ступеньки",
    164: "§6Берёзовые ступеньки",
    165: "§6Ступеньки из тёмного дуба",
    166: "§9Барьер",
    167: "§8Железная ловушка",
    168: "§7Призмарин",
    169: "§9Морской фонарь",
    170: "§6Сено",
    171: "§fКовёр",
    172: "§6Утрамбованная земля",
    173: "§8Угольный блок",
    174: "§fПакованый лёд",
    175: "§aПодсолнух",
    176: "§dСтенд для баннера",
    177: "§6Дневной датчик",
    178: "§cРедстоун-блок",
    179: "§4Красный песчаник",
    180: "§4Красные песчаниковые ступеньки",
    181: "§4Красный песчаник",
    182: "§4Красные песчаниковые ступеньки",
    183: "§6Еловые заборные ворота",
    184: "§6Берёзовые заборные ворота",
    185: "§6Заборные ворота из тёмного дуба",
    186: "§6Еловый забор",
    187: "§6Берёзовый забор",
    188: "§6Забор из тёмного дуба",
    189: "§6Еловые ступеньки",
    190: "§6Берёзовые ступеньки",
    191: "§6Ступеньки из тёмного дуба",
    192: "§6Еловые ступеньки",
    193: "§6Берёзовые ступеньки",
    194: "§6Ступеньки из тёмного дуба",
    195: "§6Еловые ступеньки",
    196: "§6Берёзовые ступеньки",
    197: "§6Ступеньки из тёмного дуба",
    198: "§6Еловые ступеньки",
    199: "§6Берёзовые ступеньки",
    200: "§6Ступеньки из тёмного дуба",
    201: "§7Призмариновый кирпич",
    202: "§7Призмариновые пластины",
    203: "§7Тёмный призмарин",
    204: "§aПризмариновый коралл",
    205: "§aПризмариновый коралл (веер)",
    206: "§aПризмариновый коралл (растение)",
    207: "§9Морской огурец",
    208: "§aСиняя ледяная глыба",
    209: "§8Структурный блок",
    210: "§8Сохраняемый структурный блок",
    211: "§8Структурный пустой блок",
    212: "§8Лёд",
    213: "§cМагма",
    214: "§4Незерварт",
    215: "§cКрасный незер-кирпич",
    216: "§4Костяный блок",
    217: "§fСтруктурная пустота",
    218: "§8Наблюдатель",
    219: "§7Белый бетон",
    220: "§6Оранжевый бетон",
    221: "§5Пурпурный бетон",
    222: "§bГолубой бетон",
    223: "§eЖёлтый бетон",
    224: "§aLime бетон",
    225: "§dРозовый бетон",
    226: "§8Серый бетон",
    227: "§7Светло-серый бетон",
    228: "§3Бирюзовый бетон",
    229: "§5Фиолетовый бетон",
    230: "§1Синий бетон",
    231: "§4Коричневый бетон",
    232: "§2Зелёный бетон",
    233: "§cКрасный бетон",
    234: "§0Чёрный бетон",
    235: "§fБелый стекло",
    236: "§6Оранжевое стекло",
    237: "§5Пурпурное стекло",
    238: "§bГолубое стекло",
    239: "§eЖёлтое стекло",
    240: "§aLime стекло",
    241: "§dРозовое стекло",
    242: "§8Серое стекло",
    243: "§7Светло-серое стекло",
    244: "§3Бирюзовое стекло",
    245: "§5Фиолетовое стекло",
    246: "§1Синее стекло",
    247: "§4Коричневое стекло",
    248: "§2Зелёное стекло",
    249: "§cКрасное стекло",
    250: "§0Чёрное стекло",
    251: "§fБелый терракота",
    252: "§6Оранжевая терракота",
    253: "§5Пурпурная терракота",
    254: "§bГолубая терракота",
    255: "§eЖёлтая терракота"
};

function showBlockInfo(blockId) {
    var id = parseInt(blockId);
    if (isNaN(id)) {
        Level.displayClientMessage("§c❌ Введите число!");
        return;
    }
    
    if (id < 0) {
        Level.displayClientMessage("§c❌ ID блока не может быть отрицательным");
        return;
    }
    
    var blockName = blockNames[id];
    if (blockName) {
        Level.displayClientMessage("§a════ Информация о блоке ════");
        Level.displayClientMessage("§7ID: §f" + id);
        Level.displayClientMessage("§7Название: " + blockName);
    } else {
        Level.displayClientMessage("§c❌ Блок с ID §f" + id + "§c не найден");
        Level.displayClientMessage("§7Это может быть несуществующий ID или спецблок");
    }
}

function onChat(text) {
    if (text.startsWith(".block ")) {
        preventDefault();
        var blockId = text.substring(7).trim();
        showBlockInfo(blockId);
        return;
    }
    
    if (text === ".block") {
        preventDefault();
        var blockId = Item.getID(Inventory.getSelectedSlot());
        if (blockId > 0) {
            showBlockInfo(blockId);
        } else {
            Level.displayClientMessage("§c❌ Возьми блок в руку или укажи ID после .block");
        }
        return;
    }
    
    if (text === ".blocks" || text === ".blocklist") {
        preventDefault();
        Level.displayClientMessage("§6════ Список популярных блоков ════");
        Level.displayClientMessage("§e.block <id> - информация о блоке");
        Level.displayClientMessage("§e.block - информация о блоке в руке");
        Level.displayClientMessage("");
        Level.displayClientMessage("§6Базовые блоки:");
        Level.displayClientMessage("§71-камень 2-трава 3-земля 4-булыжник");
        Level.displayClientMessage("§75-доски 12-песок 13-гравий 17-дерево");
        Level.displayClientMessage("");
        Level.displayClientMessage("§6Руды:");
        Level.displayClientMessage("§714-золото 15-железо 16-уголь 56-алмаз");
        Level.displayClientMessage("§773-редстоун 129-изумруд");
        Level.displayClientMessage("");
        Level.displayClientMessage("§6Строительные:");
        Level.displayClientMessage("§741-золотой блок 42-железный блок");
        Level.displayClientMessage("§757-алмазный блок 45-кирпич 98-каменный кирпич");
        Level.displayClientMessage("");
        Level.displayClientMessage("§6Декоративные:");
        Level.displayClientMessage("§735-шерсть 159-терракота 171-ковёр");
        Level.displayClientMessage("§7219-250-цветные бетоны");
        return;
    }
}

blockModule.setOnClickListener(function(view) {
    var blockId = Item.getID(Inventory.getSelectedSlot());
    if (blockId > 0) {
        showBlockInfo(blockId);
    } else {
        Level.displayClientMessage("§c❌ Возьми блок в руку!");
    }
});

function onScriptEnabled() {
    ModuleManager.addModule(blockModule);
    Level.displayClientMessage("§a✅ BlockInfo загружен!");
    Level.displayClientMessage("§7Команды:");
    Level.displayClientMessage("§f.block <id> §7- информация о блоке");
    Level.displayClientMessage("§f.block §7- блок в руке");
    Level.displayClientMessage("§f.blocks §7- список популярных блоков");
    Level.displayClientMessage("§7Клик по модулю - информация о блоке в руке");
}

function onScriptDisabled() {
    ModuleManager.removeModule(blockModule);
    Level.displayClientMessage("§cBlockInfo выгружен");
}